var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],e=a[Symbol.iterator];if("function"==typeof e)for(a=e.call(a);!(e=a.next()).done;)b.push(c.call(d,e.value));else for(var e=a.length,g=0;g<e;g++)b.push(c.call(d,a[g]));return b}},"es6-impl","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),b=Object.seal({}),d=new a([[c,2],[b,3]]);if(2!=d.get(c)||3!=d.get(b))return!1;d["delete"](c);d.set(b,4);return!d.has(c)&&4==d.get(b)}catch(t){return!1}}())return a;var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var f=0,e=function(a){this.id_=(f+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};e.prototype.set=function(a,c){b(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=c;return this};e.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};e.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};e.prototype["delete"]=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return e},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([[c,"s"]]));if("s"!=b.get(c)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),e=d.next();if(e.done||e.value[0]!=c||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(q){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var b=new WeakMap,c=function(a){this.data_={};this.head_=e();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};c.prototype.set=function(a,c){var b=d(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=c:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:c},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};c.prototype["delete"]=
function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=e();this.size=0};c.prototype.has=function(a){return!!d(this,a).entry};c.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};c.prototype.entries=function(){return f(this,function(a){return[a.key,
a.value]})};c.prototype.keys=function(){return f(this,function(a){return a.key})};c.prototype.values=function(){return f(this,function(a){return a.value})};c.prototype.forEach=function(a,c){for(var b=this.entries(),d;!(d=b.next()).done;)d=d.value,a.call(c,d[1],d[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d;d=c&&typeof c;"object"==d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++g,b.set(c,d)):d="p_"+c;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(var f=0;f<
e.length;f++){var l=e[f];if(c!==c&&l.key!==l.key||c===l.key)return{id:d,list:e,index:f,entry:l}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},e=function(){var a={};return a.previous=a.next=a.head=a},g=0;return c},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([c]));if(!b.has(c)||1!=b.size||b.add(c)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var f=b.entries(),e=f.next();if(e.done||e.value[0]!=c||e.value[1]!=c)return!1;e=f.next();return e.done||e.value[0]==c||4!=e.value[0].x||e.value[1]!=e.value[0]?!1:f.next().done}catch(g){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};b.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=function(a){return this.map_.has(a)};b.prototype.entries=
function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return b},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");
var defbgRGB,deftxtRGB,defbgHex,deftxtHex,colorObject,firstPalette=!0,contrastRatiosSet=!1,currentColorSetting="background",colorDisplay=document.getElementById("color-field"),colorName=document.getElementsByClassName("color-name")[0],contrastRatioDisplay=document.getElementById("contrast-ratio"),contrastRatioStringDisplay=document.getElementById("contrast-ratio-string"),contrastRatioNumberDisplay=document.getElementById("contrast-ratio-number"),colorPicker=document.getElementsByClassName("color-picker")[0],
bgColorPreview=document.getElementById("bg-color-preview"),textColorPreview=document.getElementById("text-color-preview"),bgColorAltPreview=document.getElementById("bg-color-alt-preview"),textColorAltPreview=document.getElementById("text-color-alt-preview"),addToPalette=document.getElementById("add-to-palette"),openSettings=document.getElementById("open-settings"),swapColors=document.getElementById("swapColors"),paletteBarTemplate=document.getElementById("paletteBarTemplate"),palettePigmentTemplate=
document.getElementById("palettePigmentTemplate"),addNewPalette=document.getElementById("addNewPalette"),sliders=Array.from(document.querySelectorAll('input[type="range"]')),modalContainer=document.getElementById("modal-container"),randomParamsStart=document.getElementById("randomParamsStart"),randomParamsEnd=document.getElementById("randomParamsEnd"),closeButton=document.getElementById("close-button"),urlParams=geturlvars();urlParams&&console.log(urlParams);disableScroll();
window.onload=function(){console.log("hello~ \ud83c\udfa8");setComputedColors();preloader=document.getElementById("preloader");setTimeout(function(){preloader.classList.add("hidden");document.body.classList.add("scroll");enableScroll()},1500);var a={red:document.getElementById("rInput"),green:document.getElementById("gInput"),blue:document.getElementById("bInput")},b={red:document.getElementById("trInput"),green:document.getElementById("tgInput"),blue:document.getElementById("tbInput")};a.red.value=
defbgRGB.r;a.green.value=defbgRGB.g;a.blue.value=defbgRGB.b;b.red.value=deftxtRGB.r;b.green.value=deftxtRGB.g;b.blue.value=deftxtRGB.b;var c=function(a,b){b=void 0===b?!0:b;colorDisplay.style.backgroundColor=a;bgColorPreview.style.backgroundColor=a;bgColorAltPreview.style.backgroundColor=a;sliders.forEach(function(b){return b.style.color=a});1==b&&setComputedColors()},d=function(a,b){colorName.style.color=a;contrastRatioDisplay.style.color=a;colorPicker.style.color=a;textColorPreview.style.backgroundColor=
a;textColorAltPreview.style.backgroundColor=a;addToPalette.style.color=a;openSettings.style.color=a;1==(void 0===b?!0:b)&&setComputedColors()},f="fail",e="aaa",g=function(a){var b=a.start;a=a.end;b||a||(f="fail",e="aaa");b&&(f=b);a&&(e=a)};g({start:null,end:null});var l=function(){contrastRatiosSet=!0;var a=randomParamsStart.value,b=randomParamsEnd.value,c=["fail","aa large","aa","aaa"];if(c.indexOf(a)>c.indexOf(b)){var d=b;randomParamsStart.value=c[c.indexOf(d)];randomParamsEnd.value=c[c.indexOf(a)];
b=a;a=d}g({start:a,end:b})};randomParamsStart.addEventListener("input",l);randomParamsEnd.addEventListener("input",l);var u=function(){for(var a="#",b=0;6>b;b++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];return a},t=function(){var r=u(),m=u(),h=hexToRGBA(r),k=hexToRGBA(m),g="rgb("+h.r+", "+h.g+", "+h.b+")",l="rgb("+k.r+", "+k.g+", "+k.b+")";a.red.value=h.r;a.green.value=h.g;a.blue.value=h.b;b.red.value=k.r;b.green.value=k.g;b.blue.value=k.b;if(1==contrastRatiosSet){var r=getContrastRatio(r,
m).number,m=[f,e],n=["fail","aa large","aa","aaa"],p;for(p in wcagLevels)for(var q in wcagLevels[p])if(h=wcagLevels[p][q],r>=h[0]&&r<=h[1])if(k=[].concat($jscomp.arrayFromIterable(n)),m=Array.from(new Set([].concat($jscomp.arrayFromIterable(m)))),h=k.indexOf(m[0]),k=-1!==k.indexOf(m[1])?k.indexOf(m[1]):h,h=function(a,b){return Array(b-a+1).fill(void 0).map(function(b,c){return c+a})}(h,k).map(function(a){return n[a]}),p=p.toLowerCase(),0==h.includes(p))t();else if(h.includes(p)){c(g);d(l);break}}else c(g),
d(l)};document.body.onkeydown=function(a){32==a.keyCode&&document.activeElement==document.body&&a.preventDefault()};document.body.onkeyup=function(a){if(32==a.keyCode&&document.activeElement==document.body){a.preventDefault();if(document.getElementById("randomizeReminder")){var b=document.getElementById("randomizeReminder");b.classList.add("hidden");setTimeout(function(){return b.remove()},300)}t()}};document.getElementById("randomize-mobile").addEventListener("click",function(){return t()});for(var v in a)a.hasOwnProperty(v)&&
a[v].addEventListener("input",function(){c("rgb("+a.red.value+", "+a.green.value+", "+a.blue.value+")")});for(var q in b)b.hasOwnProperty(q)&&b[q].addEventListener("input",function(){d("rgb("+b.red.value+", "+b.green.value+", "+b.blue.value+")")});swapColors.addEventListener("click",function(){a.red.value=colorObject.text.rgb.r;a.green.value=colorObject.text.rgb.g;a.blue.value=colorObject.text.rgb.b;b.red.value=colorObject.bg.rgb.r;b.green.value=colorObject.bg.rgb.g;b.blue.value=colorObject.bg.rgb.b;
var e="rgb("+b.red.value+", "+b.green.value+", "+b.blue.value+")";c("rgb("+a.red.value+", "+a.green.value+", "+a.blue.value+")",!1);d(e,!1);setComputedColors()});document.addEventListener("scroll",function(){var a=document.getElementById("color-controls"),b=document.getElementById("header"),c=function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var a=document.body,b=document.documentElement,b=b.clientHeight?b:a;return b.scrollTop},d=document.getElementsByClassName("alt-color-display")[0];
c()>a.offsetTop-100?(b.classList.add("invert"),d.classList.remove("hidden")):c()<a.offsetTop-100&&b.classList.contains("invert")&&(b.classList.remove("invert"),d.classList.add("hidden"))});var n,w=window.localStorage,x=function(){n.prompt()["catch"](function(a){return console.log(a.message)});n.userChoice.then(function(a){"accepted"===a.outcome?w.setItem("installed",!0):w.setItem("installed",!1);n=null})["catch"](function(a){return console.log(a)})};window.addEventListener("beforeinstallprompt",function(a){n=
a;document.getElementById("pwaInstallButton").addEventListener("click",function(){x()})})};var showBackgroundColor=document.getElementById("showBackgroundColor"),showTextColor=document.getElementById("showTextColor"),showColorPreviews=document.getElementById("showColorPreviews"),showFancyColorNames=document.getElementById("showFancyColorNames");
showBackgroundColor.addEventListener("click",function(){currentColorSetting="background";showTextColor.classList="";showBackgroundColor.classList="";showTextColor.classList.add("inactive");showBackgroundColor.classList.add("active");setComputedColors()});showTextColor.addEventListener("click",function(){currentColorSetting="text";showTextColor.classList="";showBackgroundColor.classList="";showTextColor.classList.add("active");showBackgroundColor.classList.add("inactive");setComputedColors()});
showColorPreviews.addEventListener("click",function(){var a=document.getElementsByClassName("color-previews")[0];showColorPreviews.innerText="color previews: off"==showColorPreviews.innerText?"color previews: on":"color previews: off";"color previews: on"==showColorPreviews.innerText?a.classList.add("visible"):"color previews: off"==showColorPreviews.innerText&&a.classList.remove("visible")});
showFancyColorNames.addEventListener("click",function(){showFancyColorNames.innerText="css color names"==showFancyColorNames.innerText?"fancy color names":"css color names";1==FANCY_COLOR_NAMES?FANCY_COLOR_NAMES=!1:0==FANCY_COLOR_NAMES&&(FANCY_COLOR_NAMES=!0);setComputedColors()});var closeModal=function(){return modalContainer.classList.contains("active")?modalContainer.classList.remove("active"):!1},openModal=function(){return modalContainer.classList.contains("active")?!1:modalContainer.classList.add("active")};
modalContainer.addEventListener("click",function(a){a.target==modalContainer?closeModal():!1});closeButton.addEventListener("click",closeModal,!1);openSettings.addEventListener("click",function(){return openModal()});
var currentPalette=0,paletteTotalCount=0,paletteCountActual=0,paletteContainer=document.getElementsByClassName("palette-container")[0],copiedNotification=document.getElementById("copiedNotification"),exportPalette=function(a){a=document.getElementsByClassName(a["class"])[0];void 0!==a&&(a.children[0].getElementsByTagName("input"),console.log("exporting"))},paletteControls=function(a,b){switch(b){case "remove":paletteCountActual--,a.classList.add("hide"),setTimeout(function(){return a.remove()},500);
case "export":return exportPalette(a)}},addNewPaletteBar=function(){var a=paletteBarTemplate.cloneNode(!0);a.id="";a.classList.add("palette-bar");var b="palette-"+paletteContainer.children.length;a.classList.add(b);paletteContainer.appendChild(a);currentPalette=paletteContainer.children.length-1;a.children[0].getElementsByTagName("input")[0].value="untitled palette "+paletteCountActual;paletteCountActual++;var c={element:a,"class":b},b=a.getElementsByClassName("export-palette")[0];a.getElementsByClassName("remove-palette")[0].addEventListener("click",
function(){return paletteControls(a,"remove")});b&&b.addEventListener("click",function(){return paletteControls(c,"export")});paletteTotalCount++},addColorToPalette=function(a,b){var c=palettePigmentTemplate.cloneNode(!0);c.id="";var d=paletteContainer.children[currentPalette];d.classList.remove("empty");c.classList.add("palette-pigment");c.classList.add("palette-"+d.children.length);var f=c.children[0],e=c.children[1],g=function(){copiedNotification.classList.add("copied");setTimeout(function(){copiedNotification.classList.remove("copied")},
100)};f.addEventListener("click",function(a){a.preventDefault();window.getSelection().selectAllChildren(f);document.execCommand("copy");g();window.getSelection().removeAllRanges()});e.addEventListener("click",function(a){a.preventDefault();window.getSelection().selectAllChildren(e);document.execCommand("copy");g();window.getSelection().removeAllRanges()});f.innerText=rgbToHex(a.r,a.g,a.b);e.innerText=rgbToHex(b.r,b.g,b.b);f.style.backgroundColor="rgb("+a.r+","+a.g+","+a.b+")";e.style.backgroundColor=
"rgb("+b.r+","+b.g+","+b.b+")";5==d.children.length&&addNewPaletteBar();d.appendChild(c)};addToPalette.addEventListener("click",function(){var a=colorObject.bg.rgb,b=colorObject.text.rgb;0==paletteContainer.children.length&&addNewPaletteBar();addColorToPalette(a,b);1==firstPalette&&(scrollSmooth(window,"bottom"),firstPalette=!1)});addNewPalette.addEventListener("click",function(){addNewPaletteBar()});
