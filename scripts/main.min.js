var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],e=a[Symbol.iterator];if("function"==typeof e)for(a=e.call(a);!(e=a.next()).done;)b.push(c.call(d,e.value));else for(var e=a.length,k=0;k<e;k++)b.push(c.call(d,a[k]));return b}},"es6-impl","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),b=Object.seal({}),d=new a([[c,2],[b,3]]);if(2!=d.get(c)||3!=d.get(b))return!1;d["delete"](c);d.set(b,4);return!d.has(c)&&4==d.get(b)}catch(m){return!1}}())return a;var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var f=0,e=function(a){this.id_=(f+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};e.prototype.set=function(a,c){b(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=c;return this};e.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};e.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};e.prototype["delete"]=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return e},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([[c,"s"]]));if("s"!=b.get(c)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),e=d.next();if(e.done||e.value[0]!=c||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(q){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var b=new WeakMap,c=function(a){this.data_={};this.head_=e();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};c.prototype.set=function(a,c){var b=d(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=c:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:c},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};c.prototype["delete"]=
function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=e();this.size=0};c.prototype.has=function(a){return!!d(this,a).entry};c.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};c.prototype.entries=function(){return f(this,function(a){return[a.key,
a.value]})};c.prototype.keys=function(){return f(this,function(a){return a.key})};c.prototype.values=function(){return f(this,function(a){return a.value})};c.prototype.forEach=function(a,c){for(var b=this.entries(),d;!(d=b.next()).done;)d=d.value,a.call(c,d[1],d[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d;var e=(d=c)&&typeof d;"object"==e||"function"==e?b.has(d)?d=b.get(d):(e=""+ ++k,b.set(d,e),d=e):d="p_"+d;if((e=a.data_[d])&&$jscomp.owns(a.data_,d))for(var f=
0;f<e.length;f++){var g=e[f];if(c!==c&&g.key!==g.key||c===g.key)return{id:d,list:e,index:f,entry:g}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},e=function(){var a={};return a.previous=a.next=a.head=a},k=0;return c},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([c]));if(!b.has(c)||1!=b.size||b.add(c)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var f=b.entries(),e=f.next();if(e.done||e.value[0]!=c||e.value[1]!=c)return!1;e=f.next();return e.done||e.value[0]==c||4!=e.value[0].x||e.value[1]!=e.value[0]?!1:f.next().done}catch(k){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)this.add(c.value)}this.size=this.map_.size};b.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=function(a){return this.map_.has(a)};b.prototype.entries=
function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return b},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return[a,c]})}},"es6-impl","es3");
var defbgRGB,deftxtRGB,defbgHex,deftxtHex,colorObject,globalTheme,firstPalette=!0,contrastRatiosSet=!1,initialRandomize=!0,currentColorSetting="background",colorDisplay=document.getElementById("color-field"),colorName=document.getElementsByClassName("color-name")[0],contrastRatioDisplay=document.getElementById("contrast-ratio"),contrastRatioStringDisplay=document.getElementById("contrast-ratio-string"),contrastRatioNumberDisplay=document.getElementById("contrast-ratio-number"),colorPicker=document.getElementsByClassName("color-picker")[0],
bgColorPreview=document.getElementById("bg-color-preview"),textColorPreview=document.getElementById("text-color-preview"),bgColorAltPreview=document.getElementById("bg-color-alt-preview"),textColorAltPreview=document.getElementById("text-color-alt-preview"),swapColors=document.getElementById("swapColors"),undo=document.getElementById("undo"),redo=document.getElementById("redo"),lockBg=document.getElementById("lockBackground"),lockText=document.getElementById("lockText"),paletteBarTemplate=document.getElementById("paletteBarTemplate"),
palettePigmentTemplate=document.getElementById("palettePigmentTemplate"),addNewPalette=document.getElementById("addNewPalette"),bgSliders=Array.from(document.getElementsByClassName("colorInput")),txtSliders=Array.from(document.getElementsByClassName("colortxtInput")),randomParamsStart=document.getElementById("randomParamsStart"),randomParamsEnd=document.getElementById("randomParamsEnd"),themeSelect=document.getElementById("themeSelect"),colorPaletteGenerationSwitch=document.getElementById("paletteGenerationSettings"),
paletteGenParams="analogous",BODY=document.body,urlParams=geturlvars();disableScroll();
window.onload=function(){setComputedColors(!0);preloader=document.getElementById("preloader");setTimeout(function(){preloader.classList.add("hidden");BODY.classList.add("scroll");enableScroll()},1500);var a={red:document.getElementById("rInput"),green:document.getElementById("gInput"),blue:document.getElementById("bInput")},b={red:document.getElementById("trInput"),green:document.getElementById("tgInput"),blue:document.getElementById("tbInput")},c=document.getElementById("hex-code"),d=function(){try{var a=
hexToRGBA(c.value),b="rgb("+a.r+", "+a.g+", "+a.b+")";return"background"==currentColorSetting?f(b):e(b)}catch(h){}};c.addEventListener("change",function(){return d()});c.addEventListener("input",function(){var a=c.value.search(/[^A-Fa-f0-9|^#]/gi);c.value=c.value.replace(/\s/,"");-1!=a&&(c.value=c.value.substring(0,a)+"0"+c.value.substring(a+1),d());0!=c.value.indexOf("#")&&(c.value="#");-1!=c.value.indexOf("#",1)&&0!=c.value.indexOf("#",1)&&(c.value="#"+c.value.substring(1).replace(/#/gim,"0"),d());
7==c.value.length&&d()});a.red.value=defbgRGB.r;a.green.value=defbgRGB.g;a.blue.value=defbgRGB.b;b.red.value=deftxtRGB.r;b.green.value=deftxtRGB.g;b.blue.value=deftxtRGB.b;var f=function(a,b){b=void 0===b?!0:b;colorDisplay.style.backgroundColor=a;bgColorPreview.style.backgroundColor=a;bgColorAltPreview.style.backgroundColor=a;bgSliders.forEach(function(b){return b.style.color=a});1==b&&setComputedColors()},e=function(a,b){b=void 0===b?!0:b;colorName.style.color=a;contrastRatioDisplay.style.color=
a;colorPicker.style.color=a;textColorPreview.style.backgroundColor=a;textColorAltPreview.style.backgroundColor=a;addToPalette.style.color=a;openSettings.style.color=a;txtSliders.forEach(function(b){return b.style.color=a});1==b&&setComputedColors()},k="fail",r="aaa",t=function(a){var b=a.start;a=a.end;b||a||(k="fail",r="aaa");b&&(k=b);a&&(r=a)};t({start:null,end:null});var m=function(){contrastRatiosSet=!0;var a=randomParamsStart.value,b=randomParamsEnd.value,c=["fail","aa large","aa","aaa"];if(c.indexOf(a)>
c.indexOf(b)){var d=b;randomParamsStart.value=c[c.indexOf(d)];randomParamsEnd.value=c[c.indexOf(a)];b=a;a=d}t({start:a,end:b})};randomParamsStart.addEventListener("input",m);randomParamsEnd.addEventListener("input",m);colorPaletteGenerationSwitch.addEventListener("input",function(){paletteGenParams=colorPaletteGenerationSwitch.value});void 0!=STORAGE.getItem("darkMode")&&"false"==STORAGE.getItem("darkMode")?(globalTheme="light",themeSelect.selectedIndex=1,BODY.classList.remove("dark")):(globalTheme=
"dark",themeSelect.selectedIndex=0,BODY.classList.add("dark"));themeSelect.addEventListener("input",function(){"dark"==themeSelect.value&&0==BODY.classList.contains("dark")&&BODY.classList.add("dark");"light"==themeSelect.value&&1==BODY.classList.contains("dark")&&BODY.classList.remove("dark");BODY.classList.contains("dark")?STORAGE.setItem("darkMode","true"):STORAGE.setItem("darkMode","false")});var u=function(){for(var a="#",b=0;6>b;b++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];return a},
q=function(){if(bgLocked&&textLocked)return!1;0<colorHistory.length&&1==initialRandomize&&(initialRandomize=!1,Array.from(document.getElementsByClassName("control-button")).forEach(function(a){return a.classList.remove("disabled")}));var c=!0===bgLocked?colorObject.bg.hex:u(),d=!0===textLocked?colorObject.text.hex:u(),h=hexToRGBA(c),l=hexToRGBA(d),g="rgb("+h.r+", "+h.g+", "+h.b+")",v="rgb("+l.r+", "+l.g+", "+l.b+")";a.red.value=h.r;a.green.value=h.g;a.blue.value=h.b;b.red.value=l.r;b.green.value=
l.g;b.blue.value=l.b;if(1==contrastRatiosSet){var c=getContrastRatio(c,d).number,d=[k,r],m=["fail","aa large","aa","aaa"],n;for(n in wcagLevels)for(var p in wcagLevels[n])if(h=wcagLevels[n][p],c>=h[0]&&c<=h[1])if(l=[].concat($jscomp.arrayFromIterable(m)),d=Array.from(new Set([].concat($jscomp.arrayFromIterable(d)))),h=l.indexOf(d[0]),l=-1!==l.indexOf(d[1])?l.indexOf(d[1]):h,h=function(a,b){return Array(b-a+1).fill(void 0).map(function(b,c){return c+a})}(h,l).map(function(a){return m[a]}),n=n.toLowerCase(),
0==h.includes(n))try{q()}catch(B){throw CURRENT_ERR="there is no acceptable color combination for the current settings. please modify contrast ratio limit.",new RangeError(CURRENT_ERR);}else if(h.includes(n)){f(g,!1);e(v,!1);setComputedColors(!0);break}}else f(g,!1),e(v,!1),setComputedColors(!0)};BODY.onkeydown=function(a){32==a.keyCode&&document.activeElement==BODY&&a.preventDefault()};BODY.onkeyup=function(a){if(32==a.keyCode&&document.activeElement==BODY){a.preventDefault();if(document.getElementById("randomizeReminder")){var b=
document.getElementById("randomizeReminder");b.classList.add("hidden");setTimeout(function(){return b.remove()},300)}q()}};document.getElementById("randomize-mobile").addEventListener("click",function(){return q()});for(var g in a)a.hasOwnProperty(g)&&a[g].addEventListener("input",function(){f("rgb("+a.red.value+", "+a.green.value+", "+a.blue.value+")")});for(var w in b)b.hasOwnProperty(w)&&b[w].addEventListener("input",function(){e("rgb("+b.red.value+", "+b.green.value+", "+b.blue.value+")")});swapColors.addEventListener("click",
function(){a.red.value=colorObject.text.rgb.r;a.green.value=colorObject.text.rgb.g;a.blue.value=colorObject.text.rgb.b;b.red.value=colorObject.bg.rgb.r;b.green.value=colorObject.bg.rgb.g;b.blue.value=colorObject.bg.rgb.b;var c="rgb("+b.red.value+", "+b.green.value+", "+b.blue.value+")";f("rgb("+a.red.value+", "+a.green.value+", "+a.blue.value+")",!1);e(c,!1);setComputedColors(!1)});document.addEventListener("scroll",function(){var a=document.getElementById("color-controls"),b=document.getElementById("header"),
c=function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var a=BODY,b=document.documentElement,b=b.clientHeight?b:a;return b.scrollTop},d=document.getElementsByClassName("alt-color-display")[0];c()>a.offsetTop-100?(b.classList.add("invert"),d.classList.remove("hidden")):c()<a.offsetTop-100&&b.classList.contains("invert")&&(b.classList.remove("invert"),d.classList.add("hidden"))});var p,x=window.localStorage,A=function(){p.prompt()["catch"](function(a){return console.log(a.message)});p.userChoice.then(function(a){"accepted"===
a.outcome?x.setItem("installed",!0):x.setItem("installed",!1);p=null})["catch"](function(a){return console.log(a)})};window.addEventListener("beforeinstallprompt",function(a){p=a;document.getElementById("pwaInstallButton").addEventListener("click",function(){A()})});var y=function(c){if(void 0!==colorHistory[colorHistoryIndex+c]){colorHistoryIndex+=c;colorHistoryIndex=0>colorHistoryIndex?0:colorHistoryIndex>colorHistory.length-1?colorHistory.length-1:colorHistoryIndex;var d=hexToRGBA(colorHistory[colorHistoryIndex].bg.hex);
c=hexToRGBA(colorHistory[colorHistoryIndex].text.hex);d="rgb("+d.r+", "+d.g+", "+d.b+")";c="rgb("+c.r+", "+c.g+", "+c.b+")";a.red.value=colorObject.bg.rgb.r;a.green.value=colorObject.bg.rgb.g;a.blue.value=colorObject.bg.rgb.b;b.red.value=colorObject.text.rgb.r;b.green.value=colorObject.text.rgb.g;b.blue.value=colorObject.text.rgb.b;f(d,!1);e(c,!1);setComputedColors(!1)}void 0==colorHistory[colorHistoryIndex+1]?redo.classList.add("disabled"):redo.classList.remove("disabled");void 0==colorHistory[colorHistoryIndex-
1]?undo.classList.add("disabled"):undo.classList.remove("disabled")};undo.addEventListener("click",function(){y(-1)});redo.addEventListener("click",function(){y(1)});var z=function(c){var d;"\ud83d\udd13"==c.innerHTML?(d=!0,c.innerHTML="&#x1F512;"):(d=!1,c.innerHTML="&#x1F513;");c==lockBg?1==d?bgLocked=!0:bgLocked=!1:1==d?textLocked=!0:textLocked=!1;if(1==bgLocked)for(var e in a)a[e].disabled=!0;if(0==bgLocked)for(var f in a)a[f].disabled=!1;if(1==textLocked)for(var g in b)b[g].disabled=!0;if(0==
textLocked)for(var k in b)b[k].disabled=!1};lockBg.addEventListener("click",function(){return z(lockBg)});lockText.addEventListener("click",function(){return z(lockText)});if(2==Object.entries(urlParams).length)console.log("[window] url parameters:",urlParams),g=urlParams.text,m=hexToRGBA(urlParams.bg),g=hexToRGBA(g),g="rgb("+g.r+", "+g.g+", "+g.b+")",f("rgb("+m.r+", "+m.g+", "+m.b+")",!1),e(g,!1),setComputedColors(!1);else if(2<Object.entries(urlParams).length)throw Error("please provide 2 hex colors in url like this: jpegzilla.com/emerald?bg=color1&text=color2.");
};var showBackgroundColor=document.getElementById("showBackgroundColor"),showTextColor=document.getElementById("showTextColor"),showColorPreviews=document.getElementById("showColorPreviews"),showFancyColorNames=document.getElementById("showFancyColorNames");showBackgroundColor.addEventListener("click",function(){currentColorSetting="background";showTextColor.classList="";showBackgroundColor.classList="";showTextColor.classList.add("inactive");showBackgroundColor.classList.add("active");setComputedColors(!1)});
showTextColor.addEventListener("click",function(){currentColorSetting="text";showTextColor.classList="";showBackgroundColor.classList="";showTextColor.classList.add("active");showBackgroundColor.classList.add("inactive");setComputedColors(!1)});
showColorPreviews.addEventListener("click",function(){var a=document.getElementsByClassName("color-previews")[0];showColorPreviews.innerText="color previews: off"==showColorPreviews.innerText?"color previews: on":"color previews: off";"color previews: on"==showColorPreviews.innerText?a.classList.add("visible"):"color previews: off"==showColorPreviews.innerText&&a.classList.remove("visible")});
showFancyColorNames.addEventListener("click",function(){showFancyColorNames.innerText="css color names"==showFancyColorNames.innerText?"fancy color names":"css color names";1==FANCY_COLOR_NAMES?FANCY_COLOR_NAMES=!1:0==FANCY_COLOR_NAMES&&(FANCY_COLOR_NAMES=!0);setComputedColors(!1)});
