var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var g=a[d];g in c||(c[g]={});c=c[g]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],e=a[Symbol.iterator];if("function"==typeof e)for(a=e.call(a);!(e=a.next()).done;)b.push(c.call(d,e.value));else for(var e=a.length,l=0;l<e;l++)b.push(c.call(d,a[l]));return b}},"es6-impl","es3");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),b=Object.seal({}),d=new a([[c,2],[b,3]]);if(2!=d.get(c)||3!=d.get(b))return!1;d["delete"](c);d.set(b,4);return!d.has(c)&&4==d.get(b)}catch(t){return!1}}())return a;var d="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var g=0,e=function(a){this.id_=(g+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};e.prototype.set=function(a,c){b(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=c;return this};e.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};e.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};e.prototype["delete"]=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return e},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([[c,"s"]]));if("s"!=b.get(c)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),f=d.next();if(f.done||f.value[0]!=c||"s"!=f.value[1])return!1;f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(q){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var b=new WeakMap,c=function(a){this.data_={};this.head_=e();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};c.prototype.set=function(a,c){var b=d(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=c:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:c},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};c.prototype["delete"]=
function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=e();this.size=0};c.prototype.has=function(a){return!!d(this,a).entry};c.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};c.prototype.entries=function(){return g(this,function(a){return[a.key,
a.value]})};c.prototype.keys=function(){return g(this,function(a){return a.key})};c.prototype.values=function(){return g(this,function(a){return a.value})};c.prototype.forEach=function(a,c){for(var b=this.entries(),d;!(d=b.next()).done;)d=d.value,a.call(c,d[1],d[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d;var e=(d=c)&&typeof d;"object"==e||"function"==e?b.has(d)?d=b.get(d):(e=""+ ++l,b.set(d,e),d=e):d="p_"+d;if((e=a.data_[d])&&$jscomp.owns(a.data_,d))for(var g=
0;g<e.length;g++){var h=e[g];if(c!==c&&h.key!==h.key||c===h.key)return{id:d,list:e,index:g,entry:h}}return{id:d,list:e,index:-1,entry:void 0}},g=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},e=function(){var a={};return a.previous=a.next=a.head=a},l=0;return c},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),b=new a($jscomp.makeIterator([c]));if(!b.has(c)||1!=b.size||b.add(c)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var g=b.entries(),e=g.next();if(e.done||e.value[0]!=c||e.value[1]!=c)return!1;e=g.next();return e.done||e.value[0]==c||4!=e.value[0].x||e.value[1]!=e.value[0]?!1:g.next().done}catch(l){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};b.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};b.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};b.prototype.clear=function(){this.map_.clear();this.size=0};b.prototype.has=function(a){return this.map_.has(a)};b.prototype.entries=
function(){return this.map_.entries()};b.prototype.values=function(){return this.map_.values()};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return b},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return[a,c]})}},"es6-impl","es3");
var defbgRGB,deftxtRGB,defbgHex,deftxtHex,colorObject,globalTheme,firstPalette=!0,contrastRatiosSet=!1,initialRandomize=!0,currentColorSetting="background",colorDisplay=document.getElementById("color-field"),colorName=document.getElementsByClassName("color-name")[0],contrastRatioDisplay=document.getElementById("contrast-ratio"),contrastRatioStringDisplay=document.getElementById("contrast-ratio-string"),contrastRatioNumberDisplay=document.getElementById("contrast-ratio-number"),colorPicker=document.getElementsByClassName("color-picker")[0],
bgColorPreview=document.getElementById("bg-color-preview"),textColorPreview=document.getElementById("text-color-preview"),bgColorAltPreview=document.getElementById("bg-color-alt-preview"),textColorAltPreview=document.getElementById("text-color-alt-preview"),swapColors=document.getElementById("swapColors"),undo=document.getElementById("undo"),redo=document.getElementById("redo"),lockBg=document.getElementById("lockBackground"),lockText=document.getElementById("lockText"),paletteBarTemplate=document.getElementById("paletteBarTemplate"),
palettePigmentTemplate=document.getElementById("palettePigmentTemplate"),addNewPalette=document.getElementById("addNewPalette"),bgSliders=Array.from(document.getElementsByClassName("colorInput")),txtSliders=Array.from(document.getElementsByClassName("colortxtInput")),randomParamsStart=document.getElementById("randomParamsStart"),randomParamsEnd=document.getElementById("randomParamsEnd"),themeSelect=document.getElementById("themeSelect"),BODY=document.body,urlParams=geturlvars();disableScroll();
window.onload=function(){setComputedColors(!0);preloader=document.getElementById("preloader");setTimeout(function(){preloader.classList.add("hidden");document.body.classList.add("scroll");enableScroll()},1500);var a={red:document.getElementById("rInput"),green:document.getElementById("gInput"),blue:document.getElementById("bInput")},b={red:document.getElementById("trInput"),green:document.getElementById("tgInput"),blue:document.getElementById("tbInput")};a.red.value=defbgRGB.r;a.green.value=defbgRGB.g;
a.blue.value=defbgRGB.b;b.red.value=deftxtRGB.r;b.green.value=deftxtRGB.g;b.blue.value=deftxtRGB.b;var c=function(a,b){b=void 0===b?!0:b;colorDisplay.style.backgroundColor=a;bgColorPreview.style.backgroundColor=a;bgColorAltPreview.style.backgroundColor=a;bgSliders.forEach(function(b){return b.style.color=a});1==b&&setComputedColors()},d=function(a,b){b=void 0===b?!0:b;colorName.style.color=a;contrastRatioDisplay.style.color=a;colorPicker.style.color=a;textColorPreview.style.backgroundColor=a;textColorAltPreview.style.backgroundColor=
a;addToPalette.style.color=a;openSettings.style.color=a;txtSliders.forEach(function(b){return b.style.color=a});1==b&&setComputedColors()},g="fail",e="aaa",l=function(a){var b=a.start;a=a.end;b||a||(g="fail",e="aaa");b&&(g=b);a&&(e=a)};l({start:null,end:null});var h=function(){contrastRatiosSet=!0;var a=randomParamsStart.value,b=randomParamsEnd.value,c=["fail","aa large","aa","aaa"];if(c.indexOf(a)>c.indexOf(b)){var d=b;randomParamsStart.value=c[c.indexOf(d)];randomParamsEnd.value=c[c.indexOf(a)];
b=a;a=d}l({start:a,end:b})};randomParamsStart.addEventListener("input",h);randomParamsEnd.addEventListener("input",h);void 0!=STORAGE.getItem("darkMode")&&"false"==STORAGE.getItem("darkMode")?(globalTheme="light",themeSelect.selectedIndex=1,BODY.classList.remove("dark")):(globalTheme="dark",themeSelect.selectedIndex=0,BODY.classList.add("dark"));themeSelect.addEventListener("input",function(){"dark"==themeSelect.value&&0==BODY.classList.contains("dark")&&BODY.classList.add("dark");"light"==themeSelect.value&&
1==BODY.classList.contains("dark")&&BODY.classList.remove("dark");BODY.classList.contains("dark")?STORAGE.setItem("darkMode","true"):STORAGE.setItem("darkMode","false")});var u=function(){for(var a="#",b=0;6>b;b++)a+="0123456789ABCDEF"[Math.floor(16*Math.random())];return a},t=function(){if(bgLocked&&textLocked)return!1;0<colorHistory.length&&1==initialRandomize&&(initialRandomize=!1,Array.from(document.getElementsByClassName("control-button")).forEach(function(a){return a.classList.remove("disabled")}));
var r=!0===bgLocked?colorObject.bg.hex:u(),m=!0===textLocked?colorObject.text.hex:u(),k=hexToRGBA(r),f=hexToRGBA(m),h="rgb("+k.r+", "+k.g+", "+k.b+")",l="rgb("+f.r+", "+f.g+", "+f.b+")";a.red.value=k.r;a.green.value=k.g;a.blue.value=k.b;b.red.value=f.r;b.green.value=f.g;b.blue.value=f.b;if(1==contrastRatiosSet){var r=getContrastRatio(r,m).number,m=[g,e],n=["fail","aa large","aa","aaa"],p;for(p in wcagLevels)for(var q in wcagLevels[p])if(k=wcagLevels[p][q],r>=k[0]&&r<=k[1])if(f=[].concat($jscomp.arrayFromIterable(n)),
m=Array.from(new Set([].concat($jscomp.arrayFromIterable(m)))),k=f.indexOf(m[0]),f=-1!==f.indexOf(m[1])?f.indexOf(m[1]):k,k=function(a,b){return Array(b-a+1).fill(void 0).map(function(b,c){return c+a})}(k,f).map(function(a){return n[a]}),p=p.toLowerCase(),0==k.includes(p))try{t()}catch(z){throw CURRENT_ERR="there is no acceptable color combination for the current settings. please modify contrast ratio limit.",new RangeError(CURRENT_ERR);}else if(k.includes(p)){c(h,!1);d(l,!1);setComputedColors(!0);
break}}else c(h,!1),d(l,!1),setComputedColors(!0)};document.body.onkeydown=function(a){32==a.keyCode&&document.activeElement==document.body&&a.preventDefault()};document.body.onkeyup=function(a){if(32==a.keyCode&&document.activeElement==document.body){a.preventDefault();if(document.getElementById("randomizeReminder")){var b=document.getElementById("randomizeReminder");b.classList.add("hidden");setTimeout(function(){return b.remove()},300)}t()}};document.getElementById("randomize-mobile").addEventListener("click",
function(){return t()});for(var f in a)a.hasOwnProperty(f)&&a[f].addEventListener("input",function(){c("rgb("+a.red.value+", "+a.green.value+", "+a.blue.value+")")});for(var q in b)b.hasOwnProperty(q)&&b[q].addEventListener("input",function(){d("rgb("+b.red.value+", "+b.green.value+", "+b.blue.value+")")});swapColors.addEventListener("click",function(){a.red.value=colorObject.text.rgb.r;a.green.value=colorObject.text.rgb.g;a.blue.value=colorObject.text.rgb.b;b.red.value=colorObject.bg.rgb.r;b.green.value=
colorObject.bg.rgb.g;b.blue.value=colorObject.bg.rgb.b;var e="rgb("+b.red.value+", "+b.green.value+", "+b.blue.value+")";c("rgb("+a.red.value+", "+a.green.value+", "+a.blue.value+")",!1);d(e,!1);setComputedColors(!1)});document.addEventListener("scroll",function(){var a=document.getElementById("color-controls"),b=document.getElementById("header"),c=function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var a=document.body,b=document.documentElement,b=b.clientHeight?b:a;return b.scrollTop},
d=document.getElementsByClassName("alt-color-display")[0];c()>a.offsetTop-100?(b.classList.add("invert"),d.classList.remove("hidden")):c()<a.offsetTop-100&&b.classList.contains("invert")&&(b.classList.remove("invert"),d.classList.add("hidden"))});var n,v=window.localStorage,y=function(){n.prompt()["catch"](function(a){return console.log(a.message)});n.userChoice.then(function(a){"accepted"===a.outcome?v.setItem("installed",!0):v.setItem("installed",!1);n=null})["catch"](function(a){return console.log(a)})};
window.addEventListener("beforeinstallprompt",function(a){n=a;document.getElementById("pwaInstallButton").addEventListener("click",function(){y()})});var w=function(e){if(void 0!==colorHistory[colorHistoryIndex+e]){colorHistoryIndex+=e;colorHistoryIndex=0>colorHistoryIndex?0:colorHistoryIndex>colorHistory.length-1?colorHistory.length-1:colorHistoryIndex;var f=hexToRGBA(colorHistory[colorHistoryIndex].bg.hex);e=hexToRGBA(colorHistory[colorHistoryIndex].text.hex);f="rgb("+f.r+", "+f.g+", "+f.b+")";
e="rgb("+e.r+", "+e.g+", "+e.b+")";a.red.value=colorObject.bg.rgb.r;a.green.value=colorObject.bg.rgb.g;a.blue.value=colorObject.bg.rgb.b;b.red.value=colorObject.text.rgb.r;b.green.value=colorObject.text.rgb.g;b.blue.value=colorObject.text.rgb.b;c(f,!1);d(e,!1);setComputedColors(!1)}void 0==colorHistory[colorHistoryIndex+1]?redo.classList.add("disabled"):redo.classList.remove("disabled");void 0==colorHistory[colorHistoryIndex-1]?undo.classList.add("disabled"):undo.classList.remove("disabled")};undo.addEventListener("click",
function(){w(-1)});redo.addEventListener("click",function(){w(1)});var x=function(c){var d;"\ud83d\udd13"==c.innerHTML?(d=!0,c.innerHTML="&#x1F512;"):(d=!1,c.innerHTML="&#x1F513;");c==lockBg?1==d?bgLocked=!0:bgLocked=!1:1==d?textLocked=!0:textLocked=!1;if(1==bgLocked)for(var e in a)a[e].disabled=!0;if(0==bgLocked)for(var f in a)a[f].disabled=!1;if(1==textLocked)for(var g in b)b[g].disabled=!0;if(0==textLocked)for(var h in b)b[h].disabled=!1};lockBg.addEventListener("click",function(){return x(lockBg)});
lockText.addEventListener("click",function(){return x(lockText)});if(2==Object.entries(urlParams).length)console.log("[window] url parameters:",urlParams),f=urlParams.text,h=hexToRGBA(urlParams.bg),f=hexToRGBA(f),f="rgb("+f.r+", "+f.g+", "+f.b+")",c("rgb("+h.r+", "+h.g+", "+h.b+")",!1),d(f,!1),setComputedColors(!1);else if(2<Object.entries(urlParams).length)throw Error("please provide 2 hex colors in url like this: jpegzilla.com/emerald?bg=color1&text=color2.");};
var showBackgroundColor=document.getElementById("showBackgroundColor"),showTextColor=document.getElementById("showTextColor"),showColorPreviews=document.getElementById("showColorPreviews"),showFancyColorNames=document.getElementById("showFancyColorNames");showBackgroundColor.addEventListener("click",function(){currentColorSetting="background";showTextColor.classList="";showBackgroundColor.classList="";showTextColor.classList.add("inactive");showBackgroundColor.classList.add("active");setComputedColors(!1)});
showTextColor.addEventListener("click",function(){currentColorSetting="text";showTextColor.classList="";showBackgroundColor.classList="";showTextColor.classList.add("active");showBackgroundColor.classList.add("inactive");setComputedColors(!1)});
showColorPreviews.addEventListener("click",function(){var a=document.getElementsByClassName("color-previews")[0];showColorPreviews.innerText="color previews: off"==showColorPreviews.innerText?"color previews: on":"color previews: off";"color previews: on"==showColorPreviews.innerText?a.classList.add("visible"):"color previews: off"==showColorPreviews.innerText&&a.classList.remove("visible")});
showFancyColorNames.addEventListener("click",function(){showFancyColorNames.innerText="css color names"==showFancyColorNames.innerText?"fancy color names":"css color names";1==FANCY_COLOR_NAMES?FANCY_COLOR_NAMES=!1:0==FANCY_COLOR_NAMES&&(FANCY_COLOR_NAMES=!0);setComputedColors(!1)});
