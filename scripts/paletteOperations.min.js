var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,b,d){$jscomp.initSymbolIterator();b=null!=b?b:function(a){return a};var c=[],f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)c.push(b.call(d,f.value));else for(var f=a.length,h=0;h<f;h++)c.push(b.call(d,a[h]));return c}},"es6-impl","es3");
var addToPalette=document.getElementById("add-to-palette"),finalizeExportButton=document.getElementById("do-export"),selectExportType=document.getElementById("selectExportType"),exportTextContainer=document.getElementsByClassName("export-item-container")[0],currentPaletteIndex,currentPaletteObject,exportType=selectExportType.value;
selectExportType.addEventListener("input",function(){exportType=selectExportType.value;Array.from(exportTextContainer.children).forEach(function(a){return a.classList.remove("active")});exportTextContainer.children[selectExportType.selectedIndex].classList.add("active")});
var STORAGE=window.localStorage,PALETTES=void 0==STORAGE.getItem("palettes")?[[]]:JSON.parse(STORAGE.getItem("palettes")),currentPalette=PALETTES.length-1,paletteTotalCount=PALETTES.length,paletteHumanIndex=1,savePaletteState=function(){var a=JSON.stringify(PALETTES);localStorage.setItem("palettes",a)},paletteContainer=document.getElementsByClassName("palette-container")[0],copiedNotification=document.getElementById("copiedNotification"),makeStyles=function(a,c){var b=[];a.palette.forEach(function(c,
d){var q=toCamelCase(a.colorNames[d].bg),g=c.bg.hex,e=toCamelCase(a.colorNames[d].text);b.push({bg:{name:q,hex:g},text:{name:e,hex:c.text.hex}})});for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f].text.name,p=b[f].text.hex;d.push({name:b[f].bg.name,hex:b[f].bg.hex});e.push({name:h,hex:p})}var g=d.concat(e);g.sort(propSort("name"));var k=0;g.forEach(function(a,b){0<b&&g[b-1].name==a.name?(k++,g[b].name+="-"+k):0<b&&g[b-1].name==a.name+("-"+k)?(k++,g[b].name+="-"+k):k=0});var l="",m="";"sass"==c&&g.forEach(function(a,
b){return g.length-1==b?l+="$"+a.name+": "+a.hex:l+="$"+a.name+": "+a.hex+"\n"});"css"==c&&g.forEach(function(a,b){return g.length-1==b?l+="--"+a.name+": "+a.hex:l+="--"+a.name+": "+a.hex+"\n"});var r=g.map(function(a){return"rgb("+hexToRGBA(a.hex).r+", "+hexToRGBA(a.hex).g+", "+hexToRGBA(a.hex).b+")"}),n=[];g.forEach(function(a,b){n.push({name:a.name,rgb:r[b]})});"sass"==c&&n.forEach(function(a,b){return n.length-1==b?m+="$"+a.name+": "+a.rgb:m+="$"+a.name+": "+a.rgb+"\n"});"css"==c&&n.forEach(function(a,
b){return n.length-1==b?m+="--"+a.name+": "+a.rgb:m+="--"+a.name+": "+a.rgb+"\n"});d="// hex colors\n\n"+l+"\n\n// rgb colors\n\n"+m+"\n  ";"sass"==c&&(exportTextContainer.children[0].textContent=d);"css"==c&&(exportTextContainer.children[1].textContent=d)},makeExportContent=function(a){Array.from(exportTextContainer.children).forEach(function(a){return a.classList.remove("active")});makeStyles(a,"sass");makeStyles(a,"css");mobilecheck()||0!=window.matchMedia("(max-width: 900px)").matches?1==window.matchMedia("(max-width: 900px)").matches||
1==mobilecheck()?drawSwatchesMobile(a):drawSwatches(a):drawSwatches(a);switch(exportType){case "sass":exportTextContainer.children[0].classList.add("active");break;case "css":exportTextContainer.children[1].classList.add("active");break;case "image":exportTextContainer.children[2].classList.add("active")}},exportPalette=function(a,c,b){(void 0===b||b)&&openExportModal();b=PALETTES[c];c=!1;0==FANCY_COLOR_NAMES&&(c=FANCY_COLOR_NAMES=!0,setColorNames());for(var d=[],e=0;e<b.length;e++)d.push({bg:findNearestColor(b[e].bg.hex),
text:findNearestColor(b[e].text.hex)});a={colorNames:d,name:a.name,palette:b};c||(FANCY_COLOR_NAMES=!1,setColorNames());makeExportContent(a)};
finalizeExportButton.addEventListener("click",function(a){var c=finalizeExportButton.textContent;switch(exportType){case "sass":finalizeExportButton.textContent="copied to clipboard!";copyContent(a,exportTextContainer.children[0],!1);setTimeout(function(){finalizeExportButton.textContent=c},2E3);break;case "css":finalizeExportButton.textContent="copied to clipboard!";copyContent(a,exportTextContainer.children[1]);setTimeout(function(){finalizeExportButton.textContent=c},2E3);break;case "image":a=
document.getElementById("export-canvas").toDataURL();(new Image).src=a;var b=document.createElement("a");b.href=a;b.download="emerald-palette.png";b.click()}});
var paletteControls=function(a,c,b){currentPaletteIndex=b;currentPaletteObject=a;switch(c){case "remove":a.classList.add("hide");setTimeout(function(){paletteHumanIndex--;paletteTotalCount--;currentPalette--;PALETTES.splice(b,1);savePaletteState();return a.remove()},500);break;case "export":return exportPalette(a,b)}},copyContent=function(a,c,b){a=void 0===a?null:a;b=void 0===b?!0:b;null!=a&&a.preventDefault();window.getSelection().selectAllChildren(c);document.execCommand("copy");b&&showCopyNotification();
window.getSelection().removeAllRanges()},setPigmentTextColor=function(a){Array.from(a.children).forEach(function(a){var b=a.style.backgroundColor.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),d=b[2],c=b[3],b=Math.round((299*parseInt(b[1])+587*parseInt(d)+114*parseInt(c))/1E3);125<b&&0==a.classList.contains("blackText")?a.classList.add("blackText"):125>b&&1==a.classList.contains("blackText")&&a.classList.remove("blackText")})},loadSavedPalettes=function(){PALETTES.forEach(function(a,c){var b=paletteBarTemplate.cloneNode(!0);
b.id="";b.classList.add("palette-bar");b.classList.remove("empty");b.getElementsByClassName("palette-number")[0].textContent="palette "+paletteHumanIndex;var d=b.getElementsByClassName("palette-number")[0].textContent;paletteHumanIndex++;var e=b.getElementsByClassName("export-palette")[0],f=b.getElementsByClassName("remove-palette")[0],h={name:d,palette:b};f.addEventListener("click",function(){return paletteControls(b,"remove",c)});e.addEventListener("click",function(){return paletteControls(h,"export",
c)});paletteContainer.appendChild(b);a.forEach(function(a){var c=palettePigmentTemplate.cloneNode(!0);c.children[0].style.backgroundColor=a.bg.hex;c.children[1].style.backgroundColor=a.text.hex;c.children[0].textContent=a.bg.hex;c.children[1].textContent=a.text.hex;setPigmentTextColor(c);c.children[0].addEventListener("click",function(a){return copyContent(a,c.children[0])});c.children[1].addEventListener("click",function(a){return copyContent(a,c.children[1])});c.id="";c.classList.add("palette-pigment");
b.appendChild(c)})})};0!=PALETTES[0].length&&loadSavedPalettes();
var showCopyNotification=function(){copiedNotification.classList.add("copied");setTimeout(function(){copiedNotification.classList.remove("copied")},100)},addNewPaletteBar=function(a,c,b){b=void 0===b?!0:b;var d=paletteBarTemplate.cloneNode(!0);d.id="";d.classList.add("palette-bar");d.classList.remove("empty");paletteContainer.appendChild(d);d.children[0].getElementsByClassName("palette-number")[0].innerText="palette "+paletteHumanIndex;var e={name:d.children[0].getElementsByClassName("palette-number")[0].innerText,
palette:d};paletteHumanIndex++;1==b&&addPigment(d,a,c);a=d.getElementsByClassName("export-palette")[0];d.getElementsByClassName("remove-palette")[0].addEventListener("click",function(){return paletteControls(d,"remove",paletteTotalCount-1)});a.addEventListener("click",function(){return paletteControls(e,"export",paletteTotalCount-1)});0<PALETTES[0].length&&paletteTotalCount++},addPigment=function(a,c,b){var d=palettePigmentTemplate.cloneNode(!0);d.children[0].style.backgroundColor=c;d.children[1].style.backgroundColor=
b;d.children[0].textContent=c;d.children[1].textContent=b;setPigmentTextColor(d);d.children[0].addEventListener("click",function(a){return copyContent(a,d.children[0])});d.children[1].addEventListener("click",function(a){return copyContent(a,d.children[1])});d.id="";d.classList.add("palette-pigment");a.appendChild(d)},addColorToPalette=function(a,c){palettePigmentTemplate.cloneNode(!0).id="";var b=rgbToHex(a.r,a.g,a.b),d=rgbToHex(c.r,c.g,c.b),e=paletteContainer.children[paletteTotalCount-1],f={bg:{hex:b,
rgb:a},text:{hex:d,rgb:c}};5>PALETTES[currentPalette].length||(currentPalette++,PALETTES.push([]));PALETTES[currentPalette].push(f);savePaletteState();6>e.children.length?addPigment(e,b,d):addNewPaletteBar(b,d)};
addToPalette.addEventListener("click",function(){var a=colorObject.bg.rgb,c=colorObject.text.rgb,b=rgbToHex(a.r,a.g,a.b),d=rgbToHex(c.r,c.g,c.b);0==paletteContainer.children.length&&addNewPaletteBar(b,d,!1);addColorToPalette(a,c);1==firstPalette&&(scrollSmooth(window,"bottom"),firstPalette=!1)});addNewPalette.addEventListener("click",function(){return addNewPaletteBar()});
