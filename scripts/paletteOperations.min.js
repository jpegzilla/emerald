var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)b.push(c.call(d,f.value));else for(var f=a.length,h=0;h<f;h++)b.push(c.call(d,a[h]));return b}},"es6-impl","es3");
var addToPalette=document.getElementById("add-to-palette"),finalizeExportButton=document.getElementById("do-export"),selectExportType=document.getElementById("selectExportType"),exportTextContainer=document.getElementsByClassName("export-item-container")[0],currentPaletteIndex,currentPaletteObject,exportType=selectExportType.value;
selectExportType.addEventListener("input",function(){exportType=selectExportType.value;Array.from(exportTextContainer.children).forEach(function(a){return a.classList.remove("active")});exportTextContainer.children[selectExportType.selectedIndex].classList.add("active")});var STORAGE=window.localStorage;STORAGE.clear();
var PALETTES=void 0==STORAGE.getItem("palettes")?[[]]:JSON.parse(STORAGE.getItem("palettes")),currentPalette=PALETTES.length-1,paletteTotalCount=PALETTES.length,paletteHumanIndex=1,savePaletteState=function(){var a=JSON.stringify(PALETTES);localStorage.setItem("palettes",a)},paletteContainer=document.getElementsByClassName("palette-container")[0],copiedNotification=document.getElementById("copiedNotification"),makeStyles=function(a,b){var c=[];a.palette.forEach(function(b,d){var q=toCamelCase(a.colorNames[d].bg),
e=b.bg.hex,g=toCamelCase(a.colorNames[d].text);c.push({bg:{name:q,hex:e},text:{name:g,hex:b.text.hex}})});for(var d=[],e=[],f=0;f<c.length;f++){var h=c[f].text.name,p=c[f].text.hex;d.push({name:c[f].bg.name,hex:c[f].bg.hex});e.push({name:h,hex:p})}var g=d.concat(e);g.sort(propSort("name"));var k=0;g.forEach(function(a,b){0<b&&g[b-1].name==a.name?(k++,g[b].name+="-"+k):0<b&&g[b-1].name==a.name+("-"+k)?(k++,g[b].name+="-"+k):k=0});var l="",m="";"sass"==b&&g.forEach(function(a,b){return g.length-1==
b?l+="$"+a.name+": "+a.hex:l+="$"+a.name+": "+a.hex+"\n"});"css"==b&&g.forEach(function(a,b){return g.length-1==b?l+="--"+a.name+": "+a.hex:l+="--"+a.name+": "+a.hex+"\n"});var r=g.map(function(a){return"rgb("+hexToRGBA(a.hex).r+", "+hexToRGBA(a.hex).g+", "+hexToRGBA(a.hex).b+")"}),n=[];g.forEach(function(a,b){n.push({name:a.name,rgb:r[b]})});"sass"==b&&n.forEach(function(a,b){return n.length-1==b?m+="$"+a.name+": "+a.rgb:m+="$"+a.name+": "+a.rgb+"\n"});"css"==b&&n.forEach(function(a,b){return n.length-
1==b?m+="--"+a.name+": "+a.rgb:m+="--"+a.name+": "+a.rgb+"\n"});d="// hex colors\n\n"+l+"\n\n// rgb colors\n\n"+m+"\n  ";"sass"==b&&(exportTextContainer.children[0].textContent=d);"css"==b&&(exportTextContainer.children[1].textContent=d)},makeExportContent=function(a){Array.from(exportTextContainer.children).forEach(function(a){return a.classList.remove("active")});makeStyles(a,"sass");makeStyles(a,"css");mobilecheck()||0!=window.matchMedia("(max-width: 900px)").matches?1==window.matchMedia("(max-width: 900px)").matches||
1==mobilecheck()?drawSwatchesMobile(a):drawSwatches(a):drawSwatches(a);switch(exportType){case "sass":exportTextContainer.children[0].classList.add("active");break;case "css":exportTextContainer.children[1].classList.add("active");break;case "image":exportTextContainer.children[2].classList.add("active")}},exportPalette=function(a,b,c){(void 0===c||c)&&openExportModal();b=PALETTES[b];0==FANCY_COLOR_NAMES&&(FANCY_COLOR_NAMES=!0,setColorNames());c=[];for(var d=0;d<b.length;d++)c.push({bg:findNearestColor(b[d].bg.hex),
text:findNearestColor(b[d].text.hex)});a={colorNames:c,name:a.name,palette:b};FANCY_COLOR_NAMES=!1;setColorNames();makeExportContent(a)};
finalizeExportButton.addEventListener("click",function(a){var b=finalizeExportButton.textContent;switch(exportType){case "sass":finalizeExportButton.textContent="copied to clipboard!";copyContent(a,exportTextContainer.children[0],!1);setTimeout(function(){finalizeExportButton.textContent=b},2E3);break;case "css":finalizeExportButton.textContent="copied to clipboard!";copyContent(a,exportTextContainer.children[1]);setTimeout(function(){finalizeExportButton.textContent=b},2E3);break;case "image":a=
document.getElementById("export-canvas").toDataURL();(new Image).src=a;var c=document.createElement("a");c.href=a;c.rel="noopener noreferrer";c.download="emerald-palette.png";c.click()}});
var paletteControls=function(a,b,c){currentPaletteIndex=c;currentPaletteObject=a;switch(b){case "remove":a.classList.add("hide");setTimeout(function(){paletteHumanIndex--;currentPalette--;PALETTES.splice(c,1);paletteTotalCount=PALETTES.length;savePaletteState();return a.remove()},500);break;case "export":return exportPalette(a,c)}},copyContent=function(a,b,c){a=void 0===a?null:a;c=void 0===c?!0:c;null!=a&&a.preventDefault();window.getSelection().selectAllChildren(b);document.execCommand("copy");c&&
showCopyNotification();window.getSelection().removeAllRanges()},setPigmentTextColor=function(a){Array.from(a.children).forEach(function(a){var b=a.style.backgroundColor.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),d=b[2],e=b[3],b=Math.round((299*parseInt(b[1])+587*parseInt(d)+114*parseInt(e))/1E3);125<b&&0==a.classList.contains("blackText")?a.classList.add("blackText"):125>b&&1==a.classList.contains("blackText")&&a.classList.remove("blackText")})},loadSavedPalettes=function(){PALETTES.forEach(function(a){var b=
paletteBarTemplate.cloneNode(!0);b.id="";b.classList.add("palette-bar");b.classList.remove("empty");b.getElementsByClassName("palette-number")[0].textContent="palette "+paletteHumanIndex;var c=b.getElementsByClassName("palette-number")[0].textContent;paletteHumanIndex++;var d=b.getElementsByClassName("export-palette")[0],e=b.getElementsByClassName("remove-palette")[0],f={name:c,palette:b};paletteContainer.appendChild(b);var h=Array.from(paletteContainer.children).indexOf(b);e.addEventListener("click",
function(){return paletteControls(b,"remove",h)});d.addEventListener("click",function(){return paletteControls(f,"export",h)});a.forEach(function(a){var c=palettePigmentTemplate.cloneNode(!0);c.children[0].style.backgroundColor=a.bg.hex;c.children[1].style.backgroundColor=a.text.hex;c.children[0].textContent=a.bg.hex;c.children[1].textContent=a.text.hex;setPigmentTextColor(c);c.children[0].addEventListener("click",function(a){return copyContent(a,c.children[0])});c.children[1].addEventListener("click",
function(a){return copyContent(a,c.children[1])});c.id="";c.classList.add("palette-pigment");b.appendChild(c)})})};PALETTES&&0<PALETTES.length&&0!=PALETTES[0].length&&loadSavedPalettes();
var showCopyNotification=function(){copiedNotification.classList.add("copied");setTimeout(function(){copiedNotification.classList.remove("copied")},100)},addNewPaletteBar=function(a,b,c){c=void 0===c?!0:c;var d=paletteBarTemplate.cloneNode(!0);d.id="";d.classList.add("palette-bar");d.classList.remove("empty");paletteContainer.appendChild(d);d.children[0].getElementsByClassName("palette-number")[0].innerText="palette "+paletteHumanIndex;var e={name:d.children[0].getElementsByClassName("palette-number")[0].innerText,
palette:d};paletteHumanIndex++;1==c&&addPigment(d,a,b,!0);a=d.getElementsByClassName("export-palette")[0];b=d.getElementsByClassName("remove-palette")[0];var f=Array.from(paletteContainer.children).indexOf(d);b.addEventListener("click",function(){return paletteControls(d,"remove",f)});a.addEventListener("click",function(){return paletteControls(e,"export",f)});paletteTotalCount=PALETTES.length},addPigment=function(a,b,c,d){d=void 0===d?!1:d;var e=palettePigmentTemplate.cloneNode(!0);e.children[0].style.backgroundColor=
b;e.children[1].style.backgroundColor=c;e.children[0].textContent=b;e.children[1].textContent=c;var f=hexToRGBA(b),h=hexToRGBA(c);1==d&&(b={bg:{hex:b,rgb:f},text:{hex:c,rgb:h}},0!=PALETTES[currentPalette].length&&(currentPalette++,PALETTES.push([])),PALETTES[currentPalette].push(b),savePaletteState());setPigmentTextColor(e);e.children[0].addEventListener("click",function(a){return copyContent(a,e.children[0])});e.children[1].addEventListener("click",function(a){return copyContent(a,e.children[1])});
e.id="";e.classList.add("palette-pigment");a.appendChild(e)},addColorToPalette=function(a,b){palettePigmentTemplate.cloneNode(!0).id="";var c=rgbToHex(a.r,a.g,a.b),d=rgbToHex(b.r,b.g,b.b),e=paletteContainer.children[paletteTotalCount-1],f={bg:{hex:c,rgb:a},text:{hex:d,rgb:b}};5>PALETTES[currentPalette].length?(PALETTES[currentPalette].push(f),addPigment(e,c,d)):addNewPaletteBar(c,d);savePaletteState()};
addToPalette.addEventListener("click",function(){var a=colorObject.bg.rgb,b=colorObject.text.rgb,c=rgbToHex(a.r,a.g,a.b),d=rgbToHex(b.r,b.g,b.b);0==paletteContainer.children.length&&addNewPaletteBar(c,d,!1);addColorToPalette(a,b);1==firstPalette&&(scrollSmooth(window,"bottom"),firstPalette=!1)});addNewPalette.addEventListener("click",function(){return addNewPaletteBar(colorObject.bg.hex,colorObject.text.hex)});
var makeFullPalette=function(){console.log("[PARAMS]",paletteGenParams);addNewPaletteBar(colorObject.bg.hex,colorObject.text.hex);var a=hexToRGBA(colorObject.bg.hex),b=hexToRGBA(colorObject.text.hex),c=[],d=[];c.push(a);d.push(b);console.log(c,d);console.log("[SHIFTHUE RGB OUT]",shiftHue({r:251,g:255,b:255},20))};document.getElementById("generate-palette").addEventListener("click",function(){return makeFullPalette()});
