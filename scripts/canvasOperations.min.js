var exportCanvas=document.getElementById("export-canvas"),DPI=window.devicePixelRatio,BLACK="#030303",WHITE="#eaeaea",exportNotice="exported from jpegzilla.com/emerald on "+(new Date).toDateString()+".";exportCanvas.width=exportCanvas.scrollWidth;exportCanvas.height=exportCanvas.scrollHeight;
var currentExportObject,expCtx=exportCanvas.getContext("2d",{alpha:!1}),fixDPI=function(){var b=+getComputedStyle(exportCanvas).getPropertyValue("height").slice(0,-2),k=+getComputedStyle(exportCanvas).getPropertyValue("width").slice(0,-2);exportCanvas.setAttribute("height",b*DPI);exportCanvas.setAttribute("width",k*DPI)},drawSwatches=function(b){currentExportObject=b;fixDPI();for(var k=exportCanvas.width,m=exportCanvas.height/2-36,h=k/(2*b.colorNames.length/2),e=0,d=0,c=0;c<b.colorNames.length;c++){var l=
b.colorNames[c],a=b.palette[c],f="#FFFFFF",g=hexToRGBA(a.bg.hex).r,n=hexToRGBA(a.bg.hex).g,p=hexToRGBA(a.bg.hex).b,g=Math.round((299*parseInt(g)+587*parseInt(n)+114*parseInt(p))/1E3);125<g&&(f="#000000");expCtx.fillStyle=a.bg.hex;expCtx.fillRect(e,d,h,m);expCtx.font='16.2px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle=f;expCtx.fillText(l.bg,e+18,d+18);expCtx.font='16.2px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle=f;expCtx.fillText(a.bg.hex,e+18,d+27+10);d+=m;f=
"#FFFFFF";g=hexToRGBA(a.text.hex).r;n=hexToRGBA(a.text.hex).g;p=hexToRGBA(a.text.hex).b;g=Math.round((299*parseInt(g)+587*parseInt(n)+114*parseInt(p))/1E3);125<g&&(f="#000000");expCtx.fillStyle=a.text.hex;expCtx.fillRect(e,d,h,m);expCtx.font='16.2px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle=f;expCtx.fillText(l.text,e+18,d+18);expCtx.font='16.2px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle=f;expCtx.fillText(a.text.hex,e+18,d+27+10);e+=h;d+=m;expCtx.fillStyle="dark"==
globalTheme?BLACK:WHITE;expCtx.fillRect(0,d,k,72);expCtx.font='18px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle="dark"==globalTheme?WHITE:BLACK;expCtx.fillText(exportNotice,18,d+31.5);d=0}},drawSwatchesMobile=function(b){currentExportObject=b;fixDPI();for(var k=exportCanvas.height/(2*b.colorNames.length),m=exportCanvas.width,h=0,e=0;e<b.colorNames.length;e++){var d=b.colorNames[e],c=b.palette[e],l="#FFFFFF",a=hexToRGBA(c.bg.hex).r,f=hexToRGBA(c.bg.hex).g,g=hexToRGBA(c.bg.hex).b,
a=Math.round((299*parseInt(a)+587*parseInt(f)+114*parseInt(g))/1E3);125<a&&(l="#000000");expCtx.fillStyle=c.bg.hex;expCtx.fillRect(0,h,m,k);expCtx.font='63px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle=l;expCtx.fillText(d.bg+": "+c.bg.hex,36,h+54);h+=k;expCtx.fillStyle=c.text.hex;expCtx.fillRect(0,h,m,k);l="#FFFFFF";a=hexToRGBA(c.text.hex).r;f=hexToRGBA(c.text.hex).g;g=hexToRGBA(c.text.hex).b;a=Math.round((299*parseInt(a)+587*parseInt(f)+114*parseInt(g))/1E3);125<a&&(l="#000000");
expCtx.font='54px "Share Tech Mono"';expCtx.textBaseline="top";expCtx.fillStyle=l;expCtx.fillText(d.text+": "+c.text.hex,36,h+54);h+=k}},mediaTiny=window.matchMedia("(max-width: 900px)"),mediaSmall=window.matchMedia("(min-width: 1300px)");mediaTiny.addListener(function(b){b.matches?(expCtx.clearRect(0,0,exportCanvas.width,exportCanvas.height),currentExportObject&&drawSwatchesMobile(currentExportObject)):(expCtx.clearRect(0,0,exportCanvas.width,exportCanvas.height),currentExportObject&&drawSwatches(currentExportObject))});
mediaSmall.addListener(function(b){b.matches&&(expCtx.clearRect(0,0,exportCanvas.width,exportCanvas.height),currentExportObject&&drawSwatches(currentExportObject))});
